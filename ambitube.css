.ambitube-enabled {
  --ambitube-width: min(calc(1.77*90vh), 95vw);
  --ambitube-height: calc(var(--ambitube-width)/1.77);

  #page-manager {
    margin-top: 0 !important;
  }

  #secondary {
    display: none !important;
  }

  #masthead-container {
    display: none !important;
  }

  #below {
    display: none !important;
  }

  #player-container-inner {
    padding-top: var(--ambitube-height) !important;
    width: var(--ambitube-width) !important;
  }

  video {
    height: var(--ambitube-height) !important;
    width: var(--ambitube-width) !important;
  }

  .ytp-chrome-bottom {
    width: var(--ambitube-width) !important;
  }

  #primary {
    flex-basis: 1 !important;
    padding-top: calc((100vh - var(--ambitube-height))/2) !important;
    max-width: unset !important;
  }

  #player-container-outer {
    max-width: var(--ambitube-width) !important;
  }
}


.ambitube-enabled ytd-watch-flexy[theater] #player-full-bleed-container.ytd-watch-flexy,
.ambitube-enabled ytd-watch-grid[theater] #player-full-bleed-container.ytd-watch-grid {
  height: 100vh !important;
}

.ambitube-enabled ytd-watch-flexy[fullscreen] #player-full-bleed-container.ytd-watch-flexy,
.ambitube-enabled ytd-watch-grid[fullscreen] #player-full-bleed-container.ytd-watch-grid {
  max-height: 100vh !important;
  min-height: 100vh !important;
}

.ambitube-enabled ytd-watch-flexy[full-bleed-player] #full-bleed-container.ytd-watch-flexy,
.ambitube-enabled ytd-watch-grid[full-bleed-player] #full-bleed-container.ytd-watch-grid {
  block-size: fit-content !important;
  max-height: fit-content !important;
}

.ambitube-enabled #full-bleed-container {
  --ambitube-width: min(calc(1.77*100vh), 95vw);
  --ambitube-height: calc(var(--ambitube-width)/1.77);

  video {
    height: var(--ambitube-height) !important;
    width: var(--ambitube-width) !important;
  }

  /* #player-full-bleed-container {
    height: 100vh !important;
    block-size: fit-content !important;
    max-height: fit-content !important;
  } */
}
